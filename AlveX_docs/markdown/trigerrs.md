[
  {
    "oid": 17360,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_17360",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17347,
    "tgconstrindid": 17316,
    "tgconstraint": 17359,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17361,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_17361",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17347,
    "tgconstrindid": 17316,
    "tgconstraint": 17359,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17386,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_17386",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17369,
    "tgconstrindid": 17316,
    "tgconstraint": 17385,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17387,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_17387",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17369,
    "tgconstrindid": 17316,
    "tgconstraint": 17385,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17321,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_c_17321",
    "tgfoid": 1644,
    "tgtype": 5,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16493,
    "tgconstrindid": 16498,
    "tgconstraint": 17318,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17322,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_c_17322",
    "tgfoid": 1645,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16493,
    "tgconstrindid": 16498,
    "tgconstraint": 17318,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17326,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_c_17326",
    "tgfoid": 1644,
    "tgtype": 5,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17297,
    "tgconstrindid": 17305,
    "tgconstraint": 17323,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17327,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_c_17327",
    "tgfoid": 1645,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17297,
    "tgconstrindid": 17305,
    "tgconstraint": 17323,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17418,
    "tgrelid": 17307,
    "tgparentid": 0,
    "tgname": "update_profiles_updated_at",
    "tgfoid": 17416,
    "tgtype": 19,
    "tgenabled": "O",
    "tgisinternal": false,
    "tgconstrrelid": 0,
    "tgconstrindid": 0,
    "tgconstraint": 0,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  }
]
[
  {
    "oid": 16731,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16731",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16723,
    "tgconstrindid": 16498,
    "tgconstraint": 16730,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16732,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16732",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16723,
    "tgconstrindid": 16498,
    "tgconstraint": 16730,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16759,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16759",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16753,
    "tgconstrindid": 16498,
    "tgconstraint": 16758,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16760,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16760",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16753,
    "tgconstrindid": 16498,
    "tgconstraint": 16758,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16795,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16795",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16787,
    "tgconstrindid": 16498,
    "tgconstraint": 16794,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16796,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16796",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16787,
    "tgconstrindid": 16498,
    "tgconstraint": 16794,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16986,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16986",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16975,
    "tgconstrindid": 16498,
    "tgconstraint": 16985,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 16987,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_16987",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 16975,
    "tgconstrindid": 16498,
    "tgconstraint": 16985,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17319,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_17319",
    "tgfoid": 1646,
    "tgtype": 9,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17307,
    "tgconstrindid": 16498,
    "tgconstraint": 17318,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17320,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "RI_ConstraintTrigger_a_17320",
    "tgfoid": 1655,
    "tgtype": 17,
    "tgenabled": "O",
    "tgisinternal": true,
    "tgconstrrelid": 17307,
    "tgconstrindid": 16498,
    "tgconstraint": 17318,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  },
  {
    "oid": 17428,
    "tgrelid": 16493,
    "tgparentid": 0,
    "tgname": "on_auth_user_created",
    "tgfoid": 17427,
    "tgtype": 5,
    "tgenabled": "O",
    "tgisinternal": false,
    "tgconstrrelid": 0,
    "tgconstrindid": 0,
    "tgconstraint": 0,
    "tgdeferrable": false,
    "tginitdeferred": false,
    "tgnargs": 0,
    "tgattr": "",
    "tgargs": {
      "type": "Buffer",
      "data": []
    },
    "tgqual": null,
    "tgoldtable": null,
    "tgnewtable": null
  }
]

[
  {
    "oid": 710,
    "proname": "getpgusername",
    "pronamespace": 11,
    "proowner": 10,
    "prolang": 12,
    "procost": 1,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": false,
    "proleakproof": false,
    "proisstrict": true,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "s",
    "pronargs": 0,
    "pronargdefaults": 0,
    "prorettype": 19,
    "proargtypes": "",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "current_user",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": null
  },
  {
    "oid": 745,
    "proname": "current_user",
    "pronamespace": 11,
    "proowner": 10,
    "prolang": 12,
    "procost": 1,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": false,
    "proleakproof": false,
    "proisstrict": true,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "s",
    "pronargs": 0,
    "pronargdefaults": 0,
    "prorettype": 19,
    "proargtypes": "",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "current_user",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": null
  },
  {
    "oid": 746,
    "proname": "session_user",
    "pronamespace": 11,
    "proowner": 10,
    "prolang": 12,
    "procost": 1,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": false,
    "proleakproof": false,
    "proisstrict": true,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "s",
    "pronargs": 0,
    "pronargdefaults": 0,
    "prorettype": 19,
    "proargtypes": "",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "session_user",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": null
  },
  {
    "oid": 6311,
    "proname": "system_user",
    "pronamespace": 11,
    "proowner": 10,
    "prolang": 12,
    "procost": 1,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": false,
    "proleakproof": false,
    "proisstrict": true,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "s",
    "pronargs": 0,
    "pronargdefaults": 0,
    "prorettype": 25,
    "proargtypes": "",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "system_user",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": null
  },
  {
    "oid": 1642,
    "proname": "pg_get_userbyid",
    "pronamespace": 11,
    "proowner": 10,
    "prolang": 12,
    "procost": 1,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": false,
    "proleakproof": false,
    "proisstrict": true,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "s",
    "pronargs": 1,
    "pronargdefaults": 0,
    "prorettype": 19,
    "proargtypes": "26",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "pg_get_userbyid",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": null
  },
  {
    "oid": 1939,
    "proname": "pg_stat_get_backend_userid",
    "pronamespace": 11,
    "proowner": 10,
    "prolang": 12,
    "procost": 1,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": false,
    "proleakproof": false,
    "proisstrict": true,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "r",
    "pronargs": 1,
    "pronargdefaults": 0,
    "prorettype": 26,
    "proargtypes": "23",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "pg_stat_get_backend_userid",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": null
  },
  {
    "oid": 17400,
    "proname": "get_user_salon_id",
    "pronamespace": 2200,
    "proowner": 16384,
    "prolang": 14,
    "procost": 100,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": true,
    "proleakproof": false,
    "proisstrict": false,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "u",
    "pronargs": 1,
    "pronargdefaults": 0,
    "prorettype": 2950,
    "proargtypes": "2950",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": [
      "user_id"
    ],
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "\n  SELECT salon_id FROM public.profiles WHERE id = user_id;\n",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": "{=X/postgres,postgres=X/postgres,anon=X/postgres,authenticated=X/postgres,service_role=X/postgres}"
  },
  {
    "oid": 17401,
    "proname": "get_user_role",
    "pronamespace": 2200,
    "proowner": 16384,
    "prolang": 14,
    "procost": 100,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": true,
    "proleakproof": false,
    "proisstrict": false,
    "proretset": false,
    "provolatile": "s",
    "proparallel": "u",
    "pronargs": 1,
    "pronargdefaults": 0,
    "prorettype": 17278,
    "proargtypes": "2950",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": [
      "user_id"
    ],
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "\n  SELECT role FROM public.profiles WHERE id = user_id;\n",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": "{=X/postgres,postgres=X/postgres,anon=X/postgres,authenticated=X/postgres,service_role=X/postgres}"
  },
  {
    "oid": 17427,
    "proname": "handle_new_user",
    "pronamespace": 2200,
    "proowner": 16384,
    "prolang": 13572,
    "procost": 100,
    "prorows": 0,
    "provariadic": 0,
    "prosupport": "-",
    "prokind": "f",
    "prosecdef": true,
    "proleakproof": false,
    "proisstrict": false,
    "proretset": false,
    "provolatile": "v",
    "proparallel": "u",
    "pronargs": 0,
    "pronargdefaults": 0,
    "prorettype": 2279,
    "proargtypes": "",
    "proallargtypes": null,
    "proargmodes": null,
    "proargnames": null,
    "proargdefaults": null,
    "protrftypes": null,
    "prosrc": "\nBEGIN\n  INSERT INTO public.profiles (id, name, role)\n  VALUES (\n    NEW.id,\n    COALESCE(NEW.raw_user_meta_data->>'name', NEW.email),\n    'cliente'\n  );\n  RETURN NEW;\nEXCEPTION\n  WHEN others THEN\n    -- Log do erro mas não falha a criação do usuário\n    RAISE LOG 'Error in handle_new_user: %', SQLERRM;\n    RETURN NEW;\nEND;\n",
    "probin": null,
    "prosqlbody": null,
    "proconfig": null,
    "proacl": "{=X/postgres,postgres=X/postgres,anon=X/postgres,authenticated=X/postgres,service_role=X/postgres}"
  }
]